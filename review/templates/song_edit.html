{% extends 'base.html' %}
{% load crispy_forms_filters %}

{% load crispy_forms_tags %}

{% block title %}Edit Song{% endblock %}

{% block content %}

    <div class="container mx-auto py-8">
        <h1 class="text-3xl font-bold mb-8">Edit Song</h1>

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="mb-4">
                <label class="block text-white font-bold mb-2" for="id_name">Name:</label>
                <input type="text" name="name" id="id_name" value="{{ form.name.value }}" class="form-input">
                {% if form.name.errors %}
                    {% for error in form.name.errors %}
                        <p class="text-red-500 text-sm italic mt-2">{{ error }}</p>
                    {% endfor %}
                {% endif %}
            </div>

            <div class="mb-4">
                <label class="block text-white font-bold mb-2" for="id_artist">Artist:</label>
                {{ form.artist|as_crispy_field }}
                {% if form.artist.errors %}
                    {% for error in form.artist.errors %}
                        <p class="text-red-500 text-sm italic mt-2">{{ error }}</p>
                    {% endfor %}
                {% endif %}
            </div>

            <div class="mb-4">
                <label class="block text-white font-bold mb-2" for="id_album">Album:</label>
                {{ form.album|as_crispy_field }}
                {% if form.album.errors %}
                    {% for error in form.album.errors %}
                        <p class="text-red-500 text-sm italic mt-2">{{ error }}</p>
                    {% endfor %}
                {% endif %}
            </div>

            <div class="mb-4">
                <label class="block text-white font-bold mb-2" for="id_length">Length:</label>
                <input type="text" name="length" id="id_length" value="{{ form.length.value }}" class="form-input">
                {% if form.length.errors %}
                    {% for error in form.length.errors %}
                        <p class="text-red-500 text-sm italic mt-2">{{ error }}</p>
                    {% endfor %}
                {% endif %}
            </div>

            <div class="mb-4">
                <label class="block text-white font-bold mb-2" for="id_cover">Cover:</label>
                {% if form.cover.value %}
                    <img src="{{ form.cover.value.url }}" alt="{{ form.cover.value.name }}"
                         class="w-64 h-64 object-cover">
                {% endif %}
                <input type="file" name="cover" id="id_cover" class="form-input">
                {% if form.cover.errors %}
                    {% for error in form.cover.errors %}
                        <p class="text-red-500 text-sm italic mt-2">{{ error }}</p>
                    {% endfor %}
                {% endif %}
                <button type="submit"
                        class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-4">Save
                </button>
        </form>
    </div>
{% endblock %}
